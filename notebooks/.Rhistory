setwd('~')
getwd()
library(ggplot2)
library(dplyr)
library(RColorBrewer)
library(zoo)
library(here)
install.packages("here")
library(here)
here
setwd(here())
getwd()
i_am
here::i_am("C:/Users/wb514197/Repos/pacific-observatory/notebooks")
here::i_am("C:/Users/wb514197/Repos/pacific-observatory/notebooks/")
here::i_am("ntl_graphs_cloud_coverage.r")
setwd("C:/Users/wb514197/Repos/pacific-observatory/notebooks/")
setwd("C:/Users/wb514197/Repos/pacific-observatory/notebooks")
here
here()
df <- read.csv("../data/ntl_adm0_pct_cloud.csv", row.names=1)
df$date <- as.Date(df$date)
df$year <- as.integer(format(df$date, "%Y"))
df <- df %>% filter(year>2018)
df$pct_inv = 1-df$pct
plt <- ggplot(data=df, aes(x=date, y=pct_inv, group=WB_ADM0_NA)) +
geom_col(alpha=0.5, width=20) +
facet_wrap(~WB_ADM0_NA) +
scale_y_continuous(labels = scales::percent) +
labs(x="", y="% of pixels with clouds", title="Cloud Coverage by Month") +
theme_minimal()
plt
script.dir <- dirname(sys.frame(1)$ofile)
script.dir <- dirname(sys.frame(0)$ofile)
script.dir <- dirname(sys.frame(1)$ofile)
